language: node_js

node_js:
  - 8

services:
  - docker

before_install:
- npm install -g npm@latest

script:
  - npm build run
  - docker build . -t ui
  - docker tag ui corefantasy/ui

deploy:
  provider: script
  script: bash dockerPush.sh
  on:
    branch: master
